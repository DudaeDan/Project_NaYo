<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>개인정보 수정</title>
	<link rel="stylesheet" th:href="@{/css/mypage/profile.css}">
	<link rel="stylesheet" th:href="@{/css/layout/Layout_styles.css}">
	<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script> <!-- 다음 주소 API 추가 -->
</head>

<body>
	<header th:replace="fragments/header :: header"></header>
	<div class="container">
		<div th:replace="fragments/sidebar :: sidebar"></div>
		<div class="main-content">
			<div class="mypage-header">
				<a th:href="@{/mypage/boardlist}" class="nav-item">작성 글</a>
				<a th:href="@{/mypage/comment}" class="nav-item">작성댓글</a>
				<a th:href="@{/mypage/profile}" class="nav-item">개인정보 수정</a>
				<a th:href="@{/mypage/inquiry_list}" class="nav-item">문의 글</a>
			</div>
			<h2>회원정보수정</h2>
			<div class="profile">
				<form id="updateForm" th:action="@{/mypage/profile}" method="post" onsubmit="return validateForm()">
					<div class="form-field">
						<label for="userId">아이디</label>
						<input type="text" id="userId" name="userId" th:value="${user.userId}" readonly>
					</div>
					<div class="form-field">
						<label for="userPw">비밀번호 변경</label>
						<input type="password" id="userPw" name="userPw" required pattern=".{6,}">
					</div>
					<div class="form-field">
						<label for="userPwConfirm">비밀번호 확인</label>
						<input type="password" id="userPwConfirm" required>
						<span id="passwordMatchMessage" class="error-message"></span>
					</div>
					<div class="form-field">
						<label for="userName">이름</label>
						<input type="text" id="userName" name="userName" th:value="${user.userName}" required>
					</div>
					<div class="form-field">
						<label for="userNickname">닉네임</label>
						<input type="text" id="userNickname" name="userNickname" th:value="${user.userNickname}"
							required>
						<span id="nicknameMessage" class="error-message"></span>
					</div>
					<div class="form-field">
						<label for="userAddress">주소</label>
						<input type="text" id="userAddress" name="userAddress" th:value="${user.userAddress}" required
							readonly>
						<span><input type="button" value="주소검색" onclick="execDaumPostcode()"
								class="check-button" /></span>
					</div>
					<div class="form-field">
						<label for="userPhonenumber">핸드폰번호</label>
						<input type="text" id="userPhonenumber" name="userPhonenumber"
							th:value="${user.userPhonenumber}" size="11" maxlength="11" placeholder="핸드폰번호('-'빼고 입력)"
							required />
						<span id="phoneMessage" class="error-message"></span>
					</div>
					<div class="form-field">
						<button type="submit" form="updateForm" class="check-button">수정하기</button>
					</div>
				</form>
				<form id="deleteForm" th:action="@{/mypage/delete}" method="post" onsubmit="return confirmDelete()">
					<div class="button-group">
						<label for="currentPw">현재 비밀번호</label>
						<input type="password" id="currentPw" name="currentPw" required>
						<button type="submit" form="deleteForm" class="check-button">탈퇴하기</button>
					</div>
				</form>
			</div>
		</div>
	</div>
	<script th:src="@{/script/mypage/profile.js}"></script>
	<script th:src="@{/script/layout/Layout_scripts.js}"></script>
</body>

</html>